<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<title>How is the Linux Kernel tested?</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>



<div id="Testing of the Linux Kernel"><h1 id="Testing of the Linux Kernel" class="header"><a href="#Testing of the Linux Kernel" class="justcenter">Testing of the Linux Kernel</a></h1></div>

<ol>
<li>
Static Code analysis:

<ul>
<li>
Sparse:

<ul>
<li>
Originally written by Linus Torvalds

<li>
Integrated with Linux source code

<li>
Designed to find possible faults in the kernel

<li>
Leverages annotations to perform some semantic checks

<li>
Example issue that could be discovered:

<ol>
<li>
Kernel tries to dereference a user-space pointer (marked with __<em>user</em>)

</ol>
<li>
More info here:
            <a href="https://www.kernel.org/doc/html/v5.5/dev-tools/sparse.html">https://www.kernel.org/doc/html/v5.5/dev-tools/sparse.html</a>

</ul>
<li>
Smatch:

<ul>
<li>
Developed for Linux Kernel

<li>
Identifies null pointers, buffer overflows, use after free, deadlocks, use of
          uninitialised memory, etc.

<li>
More info here:
            <a href="http://smatch.sourceforge.net/">http://smatch.sourceforge.net/</a>

</ul>
<li>
Coccinelle:

<ul>
<li>
Identifies patterns in source code and makes automatic changes

<li>
Automatic refactoring?..

<li>
More info hare:
            <a href="http://coccinelle.lip6.fr/">http://coccinelle.lip6.fr/</a>

</ul>
</ul>
<li>
Test automation tools:

<ul>
<li>
<code>ktest</code>:

<ul>
<li>
A Perl script available at <code>/tools/testing/ktest</code>

<li>
Used for automatic compiling, deploying and testing a kernel image from a config file

<li>
Deploys the image on a remote server and runs a bunch of automated tests

<li>
More info here:
            <a href="https://lwn.net/Articles/412302/">https://lwn.net/Articles/412302/</a>

</ul>
<li>
<code>kselftest</code>:

<ul>
<li>
Testing framework available at <code>/tools/testing/selftests</code>

<li>
Tests are written in C (or shells script)

<li>
Tests are run in user space

<li>
More info here:
            <a href="https://kselftest.wiki.kernel.org/">https://kselftest.wiki.kernel.org/</a>
            <a href="https://www.kernel.org/doc/Documentation/kselftest.txt">https://www.kernel.org/doc/Documentation/kselftest.txt</a>

</ul>
<li>
The Linux Test Project:

<ul>
<li>
A set of automated tests that validates the functionality, robustness, reliability and
          stability of the kernel

<li>
Developed and maintained by IBM, Cisco, Fujitsu, SUSE and RedHat

<li>
More info here:
            <a href="https://github.com/linux-test-project/ltp">https://github.com/linux-test-project/ltp</a>

</ul>
<li>
Autotest:

<ul>
<li>
GPL licenced test automation framework with a focus on the Linux kernel

<li>
Modular tool consisting of a client, server and a web interface

<li>
Client runs the tests

<li>
Server controls multiple clients

<li>
Web interface triggers tests and displays results

<li>
Provides an infrastructure to automate the execution of tests

<li>
More info here:
            <a href="https://github.com/autotest/autotest">https://github.com/autotest/autotest</a>

</ul>
<li>
KUnit:

<ul>
<li>
Unit testing framework for the Linux kernel

<li>
Uses user-mode Linux (more info here <a href="https://en.wikipedia.org/wiki/User-mode_Linux)">https://en.wikipedia.org/wiki/User-mode_Linux)</a>

<li>
More info here:
            <a href="https://www.kernel.org/doc/html/latest/dev-tools/kunit/index.html">https://www.kernel.org/doc/html/latest/dev-tools/kunit/index.html</a>

</ul>
<li>
Fuzzing:

<ul>
<li>
Fuzzers used are Trinity and Syzkaller

<li>
There is an automated bot that tuns Syzkaller continuously

</ul>
<li>
Specialised tools:

<ul>
<li>
<code>mmtests</code> -- Memory management

<li>
<code>xfstests</code> -- Testing file systems

<li>
<code>hackbench</code> -- Testing the scheduler

</ul>
</ul>
<li>
CI:

<ul>
<li>
Kernel CI (published here: <a href="https://kernelci.org/):">https://kernelci.org/):</a>

<ul>
<li>
Performs automatic build tests on several kernel trees

</ul>
<li>
Many more

</ul>
</ol>

</body>
</html>
